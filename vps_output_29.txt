==== RESET DE LA BASE SQLITE ====
[PM2] Applying action stopProcessId on app [gtb-backend](ids: [ 1 ])
[PM2] [gtb-backend](1) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name            â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ gtb-backend     â”‚ default     â”‚ 0.39.7  â”‚ fork    â”‚ 0        â”‚ 0      â”‚ 118  â”‚ stopped   â”‚ 0%       â”‚ 0b       â”‚ root     â”‚ disabled â”‚
â”‚ 0  â”‚ gtb-frontend    â”‚ default     â”‚ 0.39.7  â”‚ fork    â”‚ 49417    â”‚ 17m    â”‚ 7    â”‚ online    â”‚ 0%       â”‚ 57.3mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Base supprimÃ©e. RedÃ©marrage de PM2...
[PM2] Applying action restartProcessId on app [gtb-backend](ids: [ 1 ])
[PM2] [gtb-backend](1) âœ“
[PM2] Process successfully started
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name            â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ gtb-backend     â”‚ default     â”‚ 0.39.7  â”‚ fork    â”‚ 50011    â”‚ 0s     â”‚ 118  â”‚ online    â”‚ 0%       â”‚ 18.3mb   â”‚ root     â”‚ disabled â”‚
â”‚ 0  â”‚ gtb-frontend    â”‚ default     â”‚ 0.39.7  â”‚ fork    â”‚ 49417    â”‚ 17m    â”‚ 7    â”‚ online    â”‚ 0%       â”‚ 57.3mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Attente de 5 secondes pour le seeding...
[TAILING] Tailing last 20 lines for [gtb-backend] process (change the value with --lines option)
/root/.pm2/logs/gtb-backend-error.log last 20 lines:
1|gtb-back |     at async Timeout._onTimeout (/opt/gravity-lab/smart-building/backend/dist/src/simulation.service.js:53:17) {
1|gtb-back |   query: 'INSERT INTO "reading"("id", "value", "timestamp", "sensorId") VALUES (?, 12.37, ?, ?)',
1|gtb-back |   parameters: [
1|gtb-back |     'bd7fe41e-5eca-4df3-a828-4b1ea40d9940',
1|gtb-back |     '2026-02-23 17:13:01.444',
1|gtb-back |     '7d6d4b2f-4bcf-4dfd-815b-da1cfd57eafc'
1|gtb-back |   ],
1|gtb-back |   driverError: SqliteError: attempt to write a readonly database
1|gtb-back |       at BetterSqlite3QueryRunner.query (/opt/gravity-lab/smart-building/backend/node_modules/typeorm/driver/better-sqlite3/BetterSqlite3QueryRunner.js:90:34)
1|gtb-back |       at async InsertQueryBuilder.execute (/opt/gravity-lab/smart-building/backend/node_modules/typeorm/query-builder/InsertQueryBuilder.js:106:33)
1|gtb-back |       at async SubjectExecutor.executeInsertOperations (/opt/gravity-lab/smart-building/backend/node_modules/typeorm/persistence/SubjectExecutor.js:260:42)
1|gtb-back |       at async SubjectExecutor.execute (/opt/gravity-lab/smart-building/backend/node_modules/typeorm/persistence/SubjectExecutor.js:92:9)
1|gtb-back |       at async EntityPersistExecutor.execute (/opt/gravity-lab/smart-building/backend/node_modules/typeorm/persistence/EntityPersistExecutor.js:140:21)
1|gtb-back |       at async Timeout._onTimeout (/opt/gravity-lab/smart-building/backend/dist/src/simulation.service.js:53:17) {
1|gtb-back |     code: 'SQLITE_READONLY_DBMOVED'
1|gtb-back |   },
1|gtb-back |   code: 'SQLITE_READONLY_DBMOVED'
1|gtb-back | }
1|gtb-back | 
1|gtb-back | Node.js v20.20.0

/root/.pm2/logs/gtb-backend-out.log last 20 lines:
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/gateways, POST} route[39m[38;5;3m +1ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/readings, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/energy/global, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/temperature/average, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/alerts, GET} route[39m[38;5;3m +1ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/energy/hvac-performance, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/rules, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/rules, POST} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/iot/webhook, POST} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/search, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAiController {/api/ai}:[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/ai/generate-rule, POST} route[39m[38;5;3m +1ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/me, GET} route[39m[38;5;3m +0ms[39m
1|gtb-back | ğŸš€ Starting Internal Simulation Service...
1|gtb-back | ğŸŒ± Seeding initial V2 data (Organizations, Users, Sites)...
1|gtb-back | âœ… Database seeded with Multi-Tenant structure!
1|gtb-back | [32m[Nest] 50011  - [39m02/23/2026, 5:30:54 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
1|gtb-back | [WebSocket] Client connected: HPwXrbbGgtnCNnzTAAAB

